<div class="container-fluid bg-img pt-3">
  <div class="row">
    <div class="col-lg-12 text-center">
      <h1 style="color: #1BB1DC">Chỉnh sửa thông tin lớp {{classroom.classroomName}}</h1>
      <h2 style="color: #1BB1DC">Niên khoá:{{classroom.classroomSchoolYear}}</h2>
      <div class="row">
        <div class="col-lg-5"></div>
        <div class="col-lg-2">
          <label>Chọn giáo viên chủ nhiệm:</label>
          <select class="form-control" (change)="selectTeacher($event)">
            <option value="" selected>{{classroom.teacher.teacherName}}</option>
            <option *ngFor="let teacher of teacherList" [value]="teacher.teacherId">{{teacher.teacherName}}
            </option>
          </select>
        </div>
        <div class="col-lg-5"></div>
      </div>
    </div>
    <div class="col-lg-1"></div>
    <div class="col-lg-10">
      <h2 style="color: #1BB1DC; background-color: aliceblue; max-width: 30%" class="mt-3">Danh sách học sinh lớp</h2>
      <button class="btn mb-2 mx-1 bg-color" (click)="openDialogCreate()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
             class="bi bi-plus-square"
             viewBox="0 0 16 16">
          <path
            d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path>
          <path
            d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path>
        </svg>
        Thêm học sinh mới
      </button>
      <div class="table-responsive" *ngIf="studentList.length != 0;else emptyList">
        <table class="table table-striped table-classroom">
          <thead>
          <tr class="bg-color">
            <th scope="col">STT</th>
            <th scope="col">Họ và tên</th>
            <th scope="col">Ngày sinh</th>
            <th scope="col">Họ và tên cha</th>
            <th scope="col">Họ và tên mẹ</th>
            <th scope="col">SĐT phụ huynh</th>
            <th scope="col">Giới tính</th>
            <th scope="col" class="text-center">Quê quán</th>
            <th scope="col">Dân tộc</th>
            <th scope="col">Tôn giáo</th>
            <th scope="col">Chức Năng</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let student of studentList| paginate: { itemsPerPage: 4, currentPage: page }, index as i"
              style="font-size: 14px">
            <!--        // | paginate:{itemsPerPage : 5, currentPage :pageStudent}-->
            <td>{{i + 1}}</td>
            <td>{{student.studentName}}</td>
            <td>{{student.studentDateOfBirth|date:"dd/MM/yyyy"}}</td>
            <td>{{student.studentFatherName}}</td>
            <td>{{student.studentMotherName}}</td>
            <td>{{student.studentParentPhone}}</td>
            <td>
              <p *ngIf="student.studentGender == 0; else gender">
                Nam
              </p>
              <ng-template #gender>
                Nữ
              </ng-template>
            </td>
            <td>{{student.studentAddress}}</td>
            <td>{{student.studentEthnicity}}</td>
            <td>
              <p *ngIf="student.studentReligion == ''; else empty">
                Không
              </p>
              <ng-template #empty>
                {{student.studentReligion}}
              </ng-template>
            </td>
            <td>
              <button class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Xoá học sinh"
                      (click)="openDialog(classroom.classroomName,
student
)">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                     fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                  <path
                    d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                </svg>
              </button>
            </td>
          </tr>
          </tbody>
        </table>
        <div class="col-lg-12 align-items-center">
          <!--phan trang 5-->
          <pagination-template #p="paginationApi" (pageChange)="page = $event">
            <div class="row">
              <div class="col-lg-12 d-flex justify-content-center">
                <nav aria-label="Page navigation example">
                  <ul class="pagination">
                    <!--                trang truoc-->
                    <li class="page-item" [class.disabled]="p.isFirstPage()">
                      <button class="page-link" aria-label="Previous" *ngIf="!p.isFirstPage()"
                              (click)="p.previous()"><span
                        aria-hidden="true">&laquo;</span></button>
                    </li>
                    <!--                so trang tren tong so trang-->
                    <li class="page-item">
                      <p class="page-link">{{p.getCurrent()}}/{{p.getLastPage()}}</p>
                    </li>
                    <!--                trang sau-->
                    <li class="page-item" [class.disabled]="p.isLastPage()">
                      <button class="page-link" aria-label="Next" *ngIf="!p.isLastPage()" (click)="p.next()"><span
                        aria-hidden="true">&raquo;</span></button>
                    </li>
                    <li class="page-item ml-2">
                      <!--                  o input nhap so trang-->
                      <div class="input-group">
                        <input type="number" min="1" class="form-control" placeholder="Tới trang..."
                               style="width: 120px;" #presentPage>
                        <div class="input-group-append">
                          <!--                      lay gia tri o input roi chuyen den-->
                          <button class="btn input-group-text" style="background-color: #1BB1DC; color: white;"
                                  [class.disabled]="presentPage.value <= p.getLastPage()"
                                  (click)="goToPage(+presentPage.value,p.getLastPage())">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-arrow-right-square" viewBox="0 0 16 16">
                              <path fill-rule="evenodd"
                                    d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm4.5 5.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                            </svg>
                          </button>
                        </div>
                      </div>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </pagination-template>
        </div>
      </div>
      <ng-template #emptyList>
        <h3 class="text-danger text-center ">Danh sách hiện đang rỗng</h3>
        <img src="https://i.pinimg.com/564x/a9/81/c2/a981c2fdab3f09be1150f66e3a5973c8.jpg" alt="Sorry! :("
             width="100%" height="90%" class="align-items-center"
        >
      </ng-template>
    </div>
    <div class="col-lg-1"></div>
  </div>
  <div class="row mt-3">
    <div class="col-lg-12 text-center">
      <button class="btn btn-warning mr-lg-1" (click)="submitEdit()">Xác nhận sửa</button>
      <button class="btn btn-secondary ml-lg-1" routerLink="/classroom">Quay lại</button>
    </div>
  </div>
</div>
